[gd_scene load_steps=18 format=3 uid="uid://buymrux01rude"]

[ext_resource type="Script" path="res://LevelGen/Main.gd" id="1_5o2wn"]
[ext_resource type="PackedScene" uid="uid://cdejim20utbi" path="res://LevelGen/brick_scene.tscn" id="2_0q4u1"]
[ext_resource type="PackedScene" uid="uid://dgloopipmufx" path="res://LevelGen/ground.tscn" id="3_7rnot"]
[ext_resource type="PackedScene" uid="uid://dauc37uwpt3b7" path="res://LevelGen/wall.tscn" id="4_0acmh"]
[ext_resource type="PackedScene" uid="uid://dvjodc5t5wxm1" path="res://Scenes/Player/player.tscn" id="4_rsqvq"]
[ext_resource type="PackedScene" uid="uid://ckqfa8aki05qq" path="res://Scenes/Score/score.tscn" id="5_ahuf4"]
[ext_resource type="Texture2D" uid="uid://ccihd8vd4uu3b" path="res://Assets/World/world-tileset.png" id="5_biry0"]
[ext_resource type="PackedScene" uid="uid://b4wc07be030nk" path="res://Scenes/Levels/world_parallax_bg.tscn" id="6_klvki"]
[ext_resource type="Script" path="res://LevelGen/UI.gd" id="8_4y185"]
[ext_resource type="PackedScene" uid="uid://c7xdjuymk7qa3" path="res://Scenes/Levels/game_over_menu.tscn" id="8_a4cpu"]

[sub_resource type="TileMapPattern" id="TileMapPattern_hjs2i"]
tile_data = PackedInt32Array(0, 0, 0, 1, 65536, 0, 2, 131072, 0, 3, 196608, 0, 4, 262144, 0)

[sub_resource type="TileMapPattern" id="TileMapPattern_moafg"]
tile_data = PackedInt32Array(0, 0, 0, 2, 131072, 0, 4, 262144, 0)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_d24xf"]
resource_name = "World64"
texture = ExtResource("5_biry0")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
5:0/0 = 0
5:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:0/0/physics_layer_0/angular_velocity = 0.0
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
6:0/0 = 0
6:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:0/0/physics_layer_0/angular_velocity = 0.0
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
6:0/0/physics_layer_0/polygon_0/one_way = true
7:0/0 = 0
7:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:0/0/physics_layer_0/angular_velocity = 0.0
8:0/0 = 0
8:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
8:0/0/physics_layer_0/angular_velocity = 0.0
8:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, -16, -32, -16)
8:0/0/physics_layer_0/polygon_0/one_way = true
10:0/0 = 0
10:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
10:0/0/physics_layer_0/angular_velocity = 0.0
10:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, -16, -32, -16)
10:0/0/physics_layer_0/polygon_0/one_way = true
9:0/0 = 0
9:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
9:0/0/physics_layer_0/angular_velocity = 0.0
9:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, -16, -32, -16)
9:0/0/physics_layer_0/polygon_0/one_way = true
11:0/0 = 0
11:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
11:0/0/physics_layer_0/angular_velocity = 0.0
12:0/0 = 0
12:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
12:0/0/physics_layer_0/angular_velocity = 0.0
13:0/0 = 0
13:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
13:0/0/physics_layer_0/angular_velocity = 0.0
14:0/0 = 0
14:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
14:0/0/physics_layer_0/angular_velocity = 0.0
15:0/0 = 0
15:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
15:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_fb0bi"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 1
sources/2 = SubResource("TileSetAtlasSource_d24xf")
pattern_0 = SubResource("TileMapPattern_hjs2i")
pattern_1 = SubResource("TileMapPattern_moafg")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_q2y45"]
resource_name = "World16"
texture = ExtResource("5_biry0")
64:0/0 = 0
64:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
64:0/0/physics_layer_0/angular_velocity = 0.0
64:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-7, -7, -5.472, -8, 8, -8, 8, 8, -1.824, 8, -6, 6, -8, 3.78831, -8, -5.19139)
64:0/0/physics_layer_0/polygon_0/one_way = true
65:0/0 = 0
65:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
65:0/0/physics_layer_0/angular_velocity = 0.0
65:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
65:0/0/physics_layer_0/polygon_0/one_way = true
66:0/0 = 0
66:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
66:0/0/physics_layer_0/angular_velocity = 0.0
66:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
66:0/0/physics_layer_0/polygon_0/one_way = true
67:0/0 = 0
67:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
67:0/0/physics_layer_0/angular_velocity = 0.0
67:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
67:0/0/physics_layer_0/polygon_0/one_way = true
68:0/0 = 0
68:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
68:0/0/physics_layer_0/angular_velocity = 0.0
68:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(7, -7, 5.472, -8, -8, -8, -8, 8, 1.824, 8, 6, 6, 8, 3.78831, 8, -5.19139)
68:0/0/physics_layer_0/polygon_0/one_way = true

[sub_resource type="TileSet" id="TileSet_3oju0"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_q2y45")

[sub_resource type="GDScript" id="GDScript_2srvb"]
resource_name = "FollowCamera"
script/source = "extends Camera2D

@onready var player = $/root/Main/Player

#func _ready():
	#position.x = 400

func _physics_process(delta):
	position.y = player.position.y
"

[node name="Main" type="Node2D"]
script = ExtResource("1_5o2wn")
platform_scene = ExtResource("2_0q4u1")
wall_scene = ExtResource("4_0acmh")
ground_scene = ExtResource("3_7rnot")

[node name="TileMap64" type="TileMap" parent="."]
texture_filter = 1
position = Vector2(16, 0)
tile_set = SubResource("TileSet_fb0bi")
format = 2
layer_0/tile_data = PackedInt32Array(65542, 65538, 0, 131078, 196610, 0, 196614, 196610, 0, 262150, 196610, 0, 65536, 65538, 0, 131072, 327682, 0, 196608, 196610, 0, 262144, 196610, 0, 262145, 851970, 0, 262146, 917506, 0, 262147, 917506, 0, 262148, 917506, 0, 262149, 983042, 0, 196610, 458754, 0, 196611, 458754, 0, 196612, 458754, 0, 131074, 458754, 0, 131075, 458754, 0, 131076, 458754, 0, 196609, 720898, 0, 196613, 786434, 0, 131077, 786434, 0, 131073, 720898, 0, 65537, 524290, 0, 65538, 589826, 0, 65539, 589826, 0, 65540, 589826, 0, 65541, 655362, 0, 131079, 327682, 0, 196615, 196610, 0, 262151, 196610, 0, 327687, 327682, 0, 327686, 327682, 0, 327685, 196610, 0, 327684, 196610, 0, 327683, 196610, 0, 327682, 327682, 0, 327681, 196610, 0, 327680, 196610, 0, 393215, 196610, 0, 327679, 327682, 0, 262143, 196610, 0, 196607, 196610, 0, 65543, 131074, 0, 131071, 131074, 0, 393223, 196610, 0, 393222, 196610, 0, 393221, 196610, 0, 393220, 196610, 0, 393219, 196610, 0, 393218, 196610, 0, 393217, 196610, 0, 393216, 196610, 0, 458751, 196610, 0, 0, 2, 0, -65536, 2, 0, -131072, 2, 0, -196608, 2, 0, -262144, 2, 0, -327680, 2, 0, -393216, 2, 0, -458752, 2, 0, -524288, 2, 0, -589824, 2, 0, -655360, 2, 0, -262138, 2, 0, -196602, 2, 0, -131066, 2, 0, -65530, 2, 0, 6, 2, 0, -393210, 2, 0, -458746, 2, 0, -524282, 2, 0, -589818, 2, 0, -655354, 2, 0, -327674, 2, 0, -655353, 262146, 0, -589817, 262146, 0, -524281, 262146, 0, -458745, 262146, 0, -393209, 262146, 0, -327673, 262146, 0, -262137, 262146, 0, -196601, 262146, 0, -131065, 262146, 0, -65529, 262146, 0, 7, 262146, 0, 65535, 262146, 0, -1, 262146, 0, -65537, 262146, 0, -131073, 262146, 0, -196609, 262146, 0, -262145, 262146, 0, -327681, 262146, 0, -393217, 262146, 0, -458753, 262146, 0, -524289, 262146, 0, -589825, 262146, 0, 524287, 196610, 0, 458752, 196610, 0, 458753, 196610, 0, 458754, 196610, 0, 458755, 196610, 0, 458756, 196610, 0, 458757, 196610, 0, 458758, 196610, 0, 458759, 196610, 0, 589823, 196610, 0, 524288, 196610, 0, 524289, 196610, 0, 524290, 196610, 0, 524291, 196610, 0, 524292, 196610, 0, 524293, 196610, 0, 524294, 196610, 0, 524295, 196610, 0, 655359, 196610, 0, 589824, 196610, 0, 589825, 196610, 0, 589826, 196610, 0, 589827, 196610, 0, 589828, 196610, 0, 589829, 196610, 0, 589830, 196610, 0, 589831, 196610, 0)

[node name="TileMap16" type="TileMap" parent="."]
texture_filter = 1
tile_set = SubResource("TileSet_3oju0")
format = 2
layer_0/tile_data = PackedInt32Array(786445, 4194304, 0, 786446, 4259840, 0, 786447, 4325376, 0, 786448, 4390912, 0, 786449, 4456448, 0, 7, 4194304, 0, 8, 4259840, 0, 9, 4325376, 0, 10, 4390912, 0, 11, 4456448, 0, -327664, 4194304, 0, -327663, 4259840, 0, -327662, 4325376, 0, -327661, 4390912, 0, -327660, 4456448, 0, -524279, 4194304, 0, -524278, 4259840, 0, -524277, 4325376, 0, -524276, 4390912, 0, -524275, 4456448, 0, -983030, 4194304, 0, -983029, 4259840, 0, -983028, 4325376, 0, -983027, 4390912, 0, -983026, 4456448, 0, -1179633, 4194304, 0, -1179632, 4259840, 0, -1179631, 4325376, 0, -1179630, 4390912, 0, -1179629, 4456448, 0, -1507320, 4194304, 0, -1507319, 4259840, 0, -1507318, 4325376, 0, -1507317, 4390912, 0, -1507316, 4456448, 0, -1638380, 4194304, 0, -1638379, 4259840, 0, -1638378, 4325376, 0, -1638377, 4390912, 0, -1638376, 4456448, 0)

[node name="Player" parent="." node_paths=PackedStringArray("camera") instance=ExtResource("4_rsqvq")]
position = Vector2(300, 133)
wall_bounce_strength = Vector2(1.5, 30)
high_jump_treshold = 200.0
camera = NodePath("../Camera2D")

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Player"]
remote_path = NodePath("../../Camera2D")
update_position = false
update_rotation = false
update_scale = false

[node name="GUI" parent="." instance=ExtResource("5_ahuf4")]

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(240, -20)
script = SubResource("GDScript_2srvb")

[node name="ParallaxBackground" parent="." instance=ExtResource("6_klvki")]

[node name="UI" type="CanvasLayer" parent="."]
script = ExtResource("8_4y185")

[node name="GameOverMenu" parent="UI" instance=ExtResource("8_a4cpu")]
visible = false
custom_minimum_size = Vector2(439, 320)

[connection signal="falling_to_death" from="Player" to="." method="_on_player_falling_to_death"]
[connection signal="falling_to_death" from="Player" to="UI" method="_on_player_falling_to_death"]
[connection signal="reached_height" from="Player" to="GUI" method="_on_player_reached_height"]
[connection signal="reached_top" from="Player" to="." method="_on_player_reached_top"]
